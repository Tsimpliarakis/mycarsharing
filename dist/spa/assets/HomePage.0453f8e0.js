import{c as ge,r as h,w as ae,s as ye,n as Se,h as S,d as Te,ae as oe,S as ke,af as ie,y as $e,k as De,z as M,A as Q,D as z,B as C,t as He,a4 as Be,a3 as O,R as Ae,ag as Oe,a7 as L,ah as K,a6 as ne,x as G,a9 as le,a8 as J,ac as Qe,a as b,ai as Fe,a0 as Ie,aj as Re,m as je,E as se,g as Le,K as Ve,C as D,I as q,M as V,O as Ye,P as Ue,ak as ue,al as ce,L as ze,J as Xe}from"./index.fbbb49e6.js";import{a as Ne,t as de,v as W}from"./focusout.4067daa6.js";import{Q as Ke}from"./QPage.e7766711.js";import{Q as Ge}from"./QSelect.3136724c.js";import{Q as Je}from"./QDate.ac5a18f2.js";import{u as We}from"./use-quasar.0a14f71b.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import{u as Ze,a as et}from"./use-dark.03fbf057.js";import{Q as ve,a as tt}from"./QResizeObserver.c8a4b96a.js";import{g as fe,s as he}from"./touch.3df10340.js";import{c as at}from"./selection.8a7e64c6.js";import{b as Y}from"./format.2c147f7f.js";import{Q as lt,a as rt,b as ot}from"./QCard.d1c40a8f.js";import"./uid.9b787859.js";import"./use-key-composition.3179d14c.js";import"./QItemSection.9255a723.js";import"./QMenu.6b8632dc.js";import"./use-cache.b0833c75.js";function Z(l){let i=!1,c,n;function e(){n=arguments,i!==!0&&(i=!0,c=requestAnimationFrame(()=>{l.apply(this,n),n=void 0,i=!1}))}return e.cancel=()=>{window.cancelAnimationFrame(c),i=!1},e}const{passive:U}=ke;var it=ge({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:l=>l>=0&&l<=1},scrollTarget:{default:void 0},onScroll:Function},setup(l,{slots:i,emit:c}){const n=h(0),e=h(null),a=h(null),r=h(null);let t,s,d,_,m,f;ae(()=>l.height,()=>{t===!0&&g()}),ae(()=>l.scrollTarget,()=>{t===!0&&(k(),T())});let p=y=>{n.value=y,l.onScroll!==void 0&&c("scroll",y)};function g(){let y,P,$;f===window?(y=0,$=P=window.innerHeight):(y=ie(f).top,P=oe(f),$=y+P);const B=ie(e.value).top,F=B+l.height;if(m!==void 0||F>y&&B<$){const A=($-B)/(l.height+P);w((d-l.height)*A*l.speed),p(A)}}let w=y=>{s.style.transform=`translate3d(-50%,${Math.round(y)}px,0)`};function H(){d=s.naturalHeight||s.videoHeight||oe(s),t===!0&&g()}function T(){t=!0,f=Ne(e.value,l.scrollTarget),f.addEventListener("scroll",g,U),window.addEventListener("resize",_,U),g()}function k(){t===!0&&(t=!1,f.removeEventListener("scroll",g,U),window.removeEventListener("resize",_,U),f=void 0,w.cancel(),p.cancel(),_.cancel())}return ye(()=>{w=Z(w),p=Z(p),_=Z(H),s=i.media!==void 0?a.value.children[0]:r.value,s.onload=s.onloadstart=s.loadedmetadata=H,H(),s.style.display="initial",window.IntersectionObserver!==void 0?(m=new IntersectionObserver(y=>{(y[0].isIntersecting===!0?T:k)()}),m.observe(e.value)):T()}),Se(()=>{k(),m!==void 0&&m.disconnect(),s.onload=s.onloadstart=s.loadedmetadata=null}),()=>S("div",{ref:e,class:"q-parallax",style:{height:`${l.height}px`}},[S("div",{ref:a,class:"q-parallax__media absolute-full"},i.media!==void 0?i.media():[S("img",{ref:r,src:l.src})]),S("div",{class:"q-parallax__content absolute-full column flex-center"},i.content!==void 0?i.content({percentScrolled:n.value}):Te(i.default))])}}),nt="/assets/carbg.b91687bb.jpeg";const st={class:"q-pa-md row flex-container"},ut={class:"flex-item"},ct={__name:"SearchBar",setup(l){const i=We(),c=$e(),n=De({selectedCity:"",date:""}),e=()=>{if(!n.selectedCity||!n.date){i.notify({color:"red-5",textColor:"white",icon:"warning",message:"Both fields are required!",position:"top"});return}const a=`/search?city=${encodeURIComponent(n.selectedCity)}&date=${encodeURIComponent(n.date)}`;c.push(a)};return(a,r)=>(M(),Q("div",st,[z("div",ut,[C(Ge,{class:"dropdown",outlined:"",modelValue:n.selectedCity,"onUpdate:modelValue":r[0]||(r[0]=t=>n.selectedCity=t),options:["Athens","Corfu","Polykastro","Thessaloniki"],label:"Select City",color:"green","bg-color":"white",rules:[t=>!!t||"Field is required"]},null,8,["modelValue","rules"]),C(Je,{class:"date-picker",modelValue:n.date,"onUpdate:modelValue":r[1]||(r[1]=t=>n.date=t),mask:"YYYY-MM-DD","today-btn":"",onInput:e,color:"green-5",range:"",rules:[t=>!!t||"Field is required"]},null,8,["modelValue","rules"])]),C(He,{class:"flex-item search-btn",color:"green-5",label:"Find a car",onClick:e})]))}};var dt=X(ct,[["__scopeId","data-v-5429a1e9"]]);function ee(l,i,c){const n=le(l);let e,a=n.left-i.event.x,r=n.top-i.event.y,t=Math.abs(a),s=Math.abs(r);const d=i.direction;d.horizontal===!0&&d.vertical!==!0?e=a<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?e=r<0?"up":"down":d.up===!0&&r<0?(e="up",t>s&&(d.left===!0&&a<0?e="left":d.right===!0&&a>0&&(e="right"))):d.down===!0&&r>0?(e="down",t>s&&(d.left===!0&&a<0?e="left":d.right===!0&&a>0&&(e="right"))):d.left===!0&&a<0?(e="left",t<s&&(d.up===!0&&r<0?e="up":d.down===!0&&r>0&&(e="down"))):d.right===!0&&a>0&&(e="right",t<s&&(d.up===!0&&r<0?e="up":d.down===!0&&r>0&&(e="down")));let _=!1;if(e===void 0&&c===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};e=i.event.lastDir,_=!0,e==="left"||e==="right"?(n.left-=a,t=0,a=0):(n.top-=r,s=0,r=0)}return{synthetic:_,payload:{evt:l,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:n,direction:e,isFirst:i.event.isFirst,isFinal:c===!0,duration:Date.now()-i.event.time,distance:{x:t,y:s},offset:{x:a,y:r},delta:{x:n.left-i.event.lastX,y:n.top-i.event.lastY}}}}let vt=0;var me=Be({name:"touch-pan",beforeMount(l,{value:i,modifiers:c}){if(c.mouse!==!0&&O.has.touch!==!0)return;function n(a,r){c.mouse===!0&&r===!0?Qe(a):(c.stop===!0&&G(a),c.prevent===!0&&ne(a))}const e={uid:"qvtp_"+vt++,handler:i,modifiers:c,direction:fe(c),noop:Ae,mouseStart(a){he(a,e)&&Oe(a)&&(L(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(a,!0))},touchStart(a){if(he(a,e)){const r=a.target;L(e,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),e.start(a)}},start(a,r){if(O.is.firefox===!0&&K(l,!0),e.lastEvt=a,r===!0||c.stop===!0){if(e.direction.all!==!0&&(r!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const d=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&ne(d),a.cancelBubble===!0&&G(d),Object.assign(d,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[e.uid]:a.qClonedBy.concat(e.uid)}),e.initialEvent={target:a.target,event:d}}G(a)}const{left:t,top:s}=le(a);e.event={x:t,y:s,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:t,lastY:s}},move(a){if(e.event===void 0)return;const r=le(a),t=r.left-e.event.x,s=r.top-e.event.y;if(t===0&&s===0)return;e.lastEvt=a;const d=e.event.mouse===!0,_=()=>{n(a,d);let p;c.preserveCursor!==!0&&c.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),at(),e.styleCleanup=g=>{if(e.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),d===!0){const w=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{w(),g()},50):w()}else g!==void 0&&g()}};if(e.event.detected===!0){e.event.isFirst!==!0&&n(a,e.event.mouse);const{payload:p,synthetic:g}=ee(a,e,!1);p!==void 0&&(e.handler(p)===!1?e.end(a):(e.styleCleanup===void 0&&e.event.isFirst===!0&&_(),e.event.lastX=p.position.left,e.event.lastY=p.position.top,e.event.lastDir=g===!0?void 0:p.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||d===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){_(),e.event.detected=!0,e.move(a);return}const m=Math.abs(t),f=Math.abs(s);m!==f&&(e.direction.horizontal===!0&&m>f||e.direction.vertical===!0&&m<f||e.direction.up===!0&&m<f&&s<0||e.direction.down===!0&&m<f&&s>0||e.direction.left===!0&&m>f&&t<0||e.direction.right===!0&&m>f&&t>0?(e.event.detected=!0,e.move(a)):e.end(a,!0))},end(a,r){if(e.event!==void 0){if(J(e,"temp"),O.is.firefox===!0&&K(l,!1),r===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(ee(a===void 0?e.lastEvt:a,e).payload);const{payload:t}=ee(a===void 0?e.lastEvt:a,e,!0),s=()=>{e.handler(t)};e.styleCleanup!==void 0?e.styleCleanup(s):s()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(l.__qtouchpan=e,c.mouse===!0){const a=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";L(e,"main",[[l,"mousedown","mouseStart",`passive${a}`]])}O.has.touch===!0&&L(e,"main",[[l,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[l,"touchmove","noop","notPassiveCapture"]])},updated(l,i){const c=l.__qtouchpan;c!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&c.end(),c.handler=i.value),c.direction=fe(i.modifiers))},beforeUnmount(l){const i=l.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),J(i,"main"),J(i,"temp"),O.is.firefox===!0&&K(l,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete l.__qtouchpan)}});const pe=["vertical","horizontal"],te={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},be={prevent:!0,mouse:!0,mouseAllDir:!0},_e=l=>l>=250?50:Math.ceil(l/5);var ft=ge({name:"QScrollArea",props:{...Ze,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(l,{slots:i,emit:c}){const n=h(!1),e=h(!1),a=h(!1),r={vertical:h(0),horizontal:h(0)},t={vertical:{ref:h(null),position:h(0),size:h(0)},horizontal:{ref:h(null),position:h(0),size:h(0)}},{proxy:s}=Le(),d=et(l,s.$q);let _=null,m;const f=h(null),p=b(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=b(()=>{const o=t.vertical.size.value-r.vertical.value;if(o<=0)return 0;const u=Y(t.vertical.position.value/o,0,1);return Math.round(u*1e4)/1e4}),t.vertical.thumbHidden=b(()=>(l.visible===null?a.value:l.visible)!==!0&&n.value===!1&&e.value===!1||t.vertical.size.value<=r.vertical.value+1),t.vertical.thumbStart=b(()=>t.vertical.percentage.value*(r.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=b(()=>Math.round(Y(r.vertical.value*r.vertical.value/t.vertical.size.value,_e(r.vertical.value),r.vertical.value))),t.vertical.style=b(()=>({...l.thumbStyle,...l.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=b(()=>{const o=t.horizontal.size.value-r.horizontal.value;if(o<=0)return 0;const u=Y(Math.abs(t.horizontal.position.value)/o,0,1);return Math.round(u*1e4)/1e4}),t.horizontal.thumbHidden=b(()=>(l.visible===null?a.value:l.visible)!==!0&&n.value===!1&&e.value===!1||t.horizontal.size.value<=r.horizontal.value+1),t.horizontal.thumbStart=b(()=>t.horizontal.percentage.value*(r.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=b(()=>Math.round(Y(r.horizontal.value*r.horizontal.value/t.horizontal.size.value,_e(r.horizontal.value),r.horizontal.value))),t.horizontal.style=b(()=>({...l.thumbStyle,...l.horizontalThumbStyle,[s.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=b(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=b(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=b(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?l.contentStyle:l.contentActiveStyle),w=[[me,o=>{F(o,"vertical")},void 0,{vertical:!0,...be}]],H=[[me,o=>{F(o,"horizontal")},void 0,{horizontal:!0,...be}]];function T(){const o={};return pe.forEach(u=>{const v=t[u];o[u+"Position"]=v.position.value,o[u+"Percentage"]=v.percentage.value,o[u+"Size"]=v.size.value,o[u+"ContainerSize"]=r[u].value}),o}const k=Fe(()=>{const o=T();o.ref=s,c("scroll",o)},0);function y(o,u,v){if(pe.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?de:W)(f.value,u,v)}function P({height:o,width:u}){let v=!1;r.vertical.value!==o&&(r.vertical.value=o,v=!0),r.horizontal.value!==u&&(r.horizontal.value=u,v=!0),v===!0&&I()}function $({position:o}){let u=!1;t.vertical.position.value!==o.top&&(t.vertical.position.value=o.top,u=!0),t.horizontal.position.value!==o.left&&(t.horizontal.position.value=o.left,u=!0),u===!0&&I()}function B({height:o,width:u}){t.horizontal.size.value!==u&&(t.horizontal.size.value=u,I()),t.vertical.size.value!==o&&(t.vertical.size.value=o,I())}function F(o,u){const v=t[u];if(o.isFirst===!0){if(v.thumbHidden.value===!0)return;m=v.position.value,e.value=!0}else if(e.value!==!0)return;o.isFinal===!0&&(e.value=!1);const E=te[u],j=r[u].value,xe=(v.size.value-j)/(j-v.thumbSize.value),Ee=o.distance[E.dist],Me=m+(o.direction===E.dir?1:-1)*Ee*xe;re(Me,u)}function A(o,u){const v=t[u];if(v.thumbHidden.value!==!0){const E=o[te[u].offset];if(E<v.thumbStart.value||E>v.thumbStart.value+v.thumbSize.value){const j=E-v.thumbSize.value/2;re(j/r[u].value*v.size.value,u)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function Ce(o){A(o,"vertical")}function we(o){A(o,"horizontal")}function I(){n.value=!0,_!==null&&clearTimeout(_),_=setTimeout(()=>{_=null,n.value=!1},l.delay),l.onScroll!==void 0&&k()}function re(o,u){f.value[te[u].scroll]=o}let x=null;function qe(){x!==null&&clearTimeout(x),x=setTimeout(()=>{x=null,a.value=!0},s.$q.platform.is.ios?50:0)}function Pe(){x!==null&&(clearTimeout(x),x=null),a.value=!1}let R=null;return ae(()=>s.$q.lang.rtl,o=>{f.value!==null&&W(f.value,Math.abs(t.horizontal.position.value)*(o===!0?-1:1))}),Ie(()=>{R={top:t.vertical.position.value,left:t.horizontal.position.value}}),Re(()=>{if(R===null)return;const o=f.value;o!==null&&(W(o,R.left),de(o,R.top))}),Se(k.cancel),Object.assign(s,{getScrollTarget:()=>f.value,getScroll:T,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:y,setScrollPercentage(o,u,v){y(o,u*(t[o].size.value-r[o].value)*(o==="horizontal"&&s.$q.lang.rtl===!0?-1:1),v)}}),()=>S("div",{class:p.value,onMouseenter:qe,onMouseleave:Pe},[S("div",{ref:f,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:l.tabindex!==void 0?l.tabindex:void 0},[S("div",{class:"q-scrollarea__content absolute",style:g.value},je(i.default,[S(ve,{debounce:0,onResize:B})])),S(tt,{axis:"both",onScroll:$})]),S(ve,{debounce:0,onResize:P}),S("div",{class:t.vertical.barClass.value,style:[l.barStyle,l.verticalBarStyle],"aria-hidden":"true",onMousedown:Ce}),S("div",{class:t.horizontal.barClass.value,style:[l.barStyle,l.horizontalBarStyle],"aria-hidden":"true",onMousedown:we}),se(S("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),w),se(S("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),H)])}});const N=l=>(Ye("data-v-46ef2231"),l=l(),Ue(),l),ht={class:"car-thumbnail"},mt={class:"text-h6"},pt=N(()=>z("span",{class:"label"},"Year:",-1)),bt=N(()=>z("span",{class:"label"},"Mileage:",-1)),_t=N(()=>z("span",{class:"label"},"Gear Box:",-1)),gt=N(()=>z("span",{class:"label"},"Fuel Type:",-1)),yt={class:"text-center price"},St={__name:"CarThumbnail",props:{car:Object},setup(l){return(i,c)=>{const n=Ve("router-link");return M(),Q("div",ht,[C(ot,{class:"bg-green-2",style:{width:"180px",height:"260px"}},{default:D(()=>[C(lt,{ratio:16/9,src:l.car.image_url[0]},null,8,["src"]),C(rt,null,{default:D(()=>[C(n,{to:`/car?id=${encodeURIComponent(l.car.car_id)}`,class:"tittle"},{default:D(()=>[z("div",mt,q(l.car.manufacturer)+" "+q(l.car.model),1)]),_:1},8,["to"]),z("div",null,[pt,V(" "+q(l.car.year),1)]),z("div",null,[bt,V(" "+q(l.car.mileage)+" km",1)]),z("div",null,[_t,V(" "+q(l.car.transmission_type),1)]),z("div",null,[gt,V(" "+q(l.car.fuel_type),1)]),z("div",yt,q(l.car.price)+"\u20AC / day",1)]),_:1})]),_:1})])}}};var zt=X(St,[["__scopeId","data-v-46ef2231"]]);const Ct={class:"column suggestions"},wt={class:"text-center text-h6"},qt={class:"row no-wrap"},Pt={__name:"SuggestionsComp",setup(l){const i=h({Polykastro:[],Corfu:[]}),c=async n=>{const{data:e,error:a}=await Xe.from("cars").select("car_id, year, manufacturer, model, mileage, price, image_url, fuel_type, transmission_type").ilike("location",n);return a&&console.log(`Error fetching ${n}: `,a),e||[]};return ye(async()=>{const e=["Polykastro","Corfu"].map(c),[a,r]=await Promise.all(e);i.value={Polykastro:a,Corfu:r}}),(n,e)=>(M(),Q("div",Ct,[(M(),Q(ue,null,ce(["Polykastro","Corfu"],(a,r)=>z("div",{key:r},[z("div",wt,"Cars in "+q(a),1),C(ft,{style:{height:"286px"}},{default:D(()=>[z("div",qt,[(M(!0),Q(ue,null,ce(i.value[a],t=>(M(),ze(zt,{key:t.id,car:t},null,8,["car"]))),128))])]),_:2},1024)])),64))]))}};var xt=X(Pt,[["__scopeId","data-v-79990e0e"]]);const Et={__name:"HomePage",setup(l){return(i,c)=>(M(),ze(Ke,null,{default:D(()=>[C(it,{src:nt,class:"parallax-div"},{default:D(()=>[C(dt,{class:"search"})]),_:1}),C(xt)]),_:1}))}};var Xt=X(Et,[["__scopeId","data-v-3f951852"]]);export{Xt as default};
